<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Delete</title>
</head>
<body>
<div class="input-group input-group-lg mx-auto" style="width: 500px; padding-top: 50px;">
    <div class="input-group-prepend">
        <div class="input-group-text" name="id" id="id">${product.id}</div>
    </div>
    <input type="text" min="0" class="form-control" name="name" id="name"
    value="${product.name}">
    <input type="number" min="0.0" class="form-control" name="price" id="price"
    value="${product.price}">
    <div class="input-group-append">
        <button class="btn btn-outline-secondary" type="button" onclick="update()">Update</button>
    </div>
</div>
<script>
    function update() {
        let id = document.getElementById('id').textContent;
        let url = '/update/' + id;
        let name = document.getElementById('name').value;
        let price = document.getElementById('price').value;
        console.log(id.value, name, price);
        fetch(url, {
            method: 'PUT',
            body: JSON.stringify({'id': id, 'name': name, 'price': price})
        }).then(result => {
            console.log('Success:', result);
        }).then(() => {
            window.location.assign('/')
        }).catch(err => {
            console.error(err)
        })
    };
</script>
</body>
</html>